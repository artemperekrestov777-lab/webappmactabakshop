# ðŸš€ Ð”ÐµÐ¿Ð»Ð¾Ð¹ ÐœÐ°ÐºÐ¢Ð°Ð±Ð°Ðº Ð½Ð° Ð²Ð°Ñˆ ÑÐµÑ€Ð²ÐµÑ€

## ðŸ“‹ Ð”Ð°Ð½Ð½Ñ‹Ðµ ÑÐµÑ€Ð²ÐµÑ€Ð°:
- **IP:** 85.198.83.41
- **ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:** root
- **ÐŸÐ°Ñ€Ð¾Ð»ÑŒ:** f3-YmUt2AP-JYt

## ðŸ”§ ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:

### 1. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
```bash
ssh root@85.198.83.41
# Ð’Ð²ÐµÑÑ‚Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ: f3-YmUt2AP-JYt
```

### 2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Node.js (ÐµÑÐ»Ð¸ Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½)
```bash
# ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
apt update -y

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Node.js 18
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt-get install -y nodejs

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÑƒ
node --version
npm --version
```

### 3. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ
```bash
# ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² Ð´Ð¾Ð¼Ð°ÑˆÐ½ÑŽÑŽ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ
cd /root

# ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐµÐ¼ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
git clone https://github.com/artemperekrestov777-lab/webappmactabakshop.git

# ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² Ð¿Ð°Ð¿ÐºÑƒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
cd webappmactabakshop
```

### 4. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹
```bash
# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
npm install

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ PM2 Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°Ð¼Ð¸
npm install -g pm2
```

### 5. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ .env Ñ„Ð°Ð¹Ð»Ð°
```bash
# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ .env Ñ„Ð°Ð¹Ð»
cat > .env << 'EOF'
BOT_TOKEN=7951734201:AAH-s0dzyJV4aOeTtO76Zj7Y9koKewimdks
ADMIN_ID=827456169
WEBAPP_URL=http://85.198.83.41:3000
MONGODB_URI=mongodb://localhost:27017/mactabak_shop
ADMIN_PASSWORD=f3-YmUt2AP-JYt
JWT_SECRET=super-secret-jwt-key-for-admin-panel-2024
SESSION_SECRET=super-secret-session-key-2024
NODE_ENV=production
PORT=3000
MANAGER_EMAIL=chek_qr@bk.ru
PAYMENT_NAME=Ð˜ÐÐ”Ð˜Ð’Ð˜Ð”Ð£ÐÐ›Ð¬ÐÐ«Ð™ ÐŸÐ Ð•Ð”ÐŸÐ Ð˜ÐÐ˜ÐœÐÐ¢Ð•Ð›Ð¬ Ð“Ð£Ð¡Ð•Ð’ Ð”ÐœÐ˜Ð¢Ð Ð˜Ð™ ÐÐÐÐ¢ÐžÐ›Ð¬Ð•Ð’Ð˜Ð§
PAYMENT_INN=530204186437
PAYMENT_ACCOUNT=40802810200003565112
PAYMENT_BIK=044525974
GITHUB_REPO=https://github.com/artemperekrestov777-lab/webappmactabakshop.git
EOF
```

### 6. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ñ… Ð¿Ð°Ð¿Ð¾Ðº
```bash
# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ð°Ð¿ÐºÐ¸ Ð´Ð»Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…
mkdir -p data/qr
mkdir -p logs
```

### 7. Ð—Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ñ PM2
```bash
# Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð±Ð¾Ñ‚Ð° Ñ PM2
pm2 start bot/index.js --name "mactabak-bot"

# ÐÐ°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÐ¼ Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐº
pm2 startup
pm2 save

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ ÑÑ‚Ð°Ñ‚ÑƒÑ
pm2 status
```

### 8. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ð¿Ð¾Ñ€Ñ‚Ð° 3000 (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ firewall
ufw status

# ÐžÑ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ Ð¿Ð¾Ñ€Ñ‚ 3000 ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾
ufw allow 3000/tcp

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
curl http://localhost:3000
```

## âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹:

### 1. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ PM2:
```bash
pm2 status
pm2 logs mactabak-bot
```

### 2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð±Ð¾Ñ‚Ð°:
- ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ñƒ `/start` Ð² Telegram
- ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ `/admin f3-YmUt2AP-JYt`

### 3. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð°Ð´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»ÑŒ:
- ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ: `http://85.198.83.41:3000/admin.html`

## ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð´Ð°:
```bash
cd /root/webappmactabakshop
git pull origin main
npm install
pm2 restart mactabak-bot
```

## ðŸ“ ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ PM2:
```bash
pm2 status          # Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð²ÑÐµÑ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²
pm2 logs             # ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
pm2 restart all      # ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²
pm2 stop all         # ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð²ÑÐµÑ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²
pm2 delete all       # Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð²ÑÐµÑ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²
```

## ðŸŽ‰ ÐŸÐ¾ÑÐ»Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ:
ÐÐ´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ: `http://85.198.83.41:3000/admin.html`
Ð˜ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° `/admin f3-YmUt2AP-JYt` Ð² Telegram Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ!